/*********************************************************************************
处理某一天的所有内容

**********************************************************************************/


	/**********************************************************
		测试数据
	
	**********************************************************/
	
	/*
	
	var year = 2020;
	var month = 1;
	var day = 25;
	var date = new Date(year,month-1,day);
	handleDay(date);
	var lunar = whichYear(year,month,day,LunarDataArr);//lunar.rest;lunar.year
	console.log('aaa');
	console.log(lunar);
	lunar = calLunar(lunar.rest,lunar.year,LunarDataArr);
	console.log(lunar);
	
	console.log('bbb');
	
	/**/
	
	
	
	/**********************************************************
	返回对象：改日对应的农历、节日、节气
	obj.solar
				.year
				.month
				.date
	obj.lunar
				.year
				.month
				.date
				.monthArr
				.dateArr
	
	obj.holiday
				.lunar
				.solar
				.week
	
	obj.term
	obj.ganzhi
	obj.animal
	obj.weekDay
	
	**********************************************************/
	
	
	function handleDay(date){
		var obj = {};
		obj.solar = {};
		obj.lunar = {};
		obj.holiday = {};
		obj.term = "";
		obj.weekDay = "";
		obj.animal = "";
		obj.ganzhi = "";
		/*公历年月日*/
		var _year = date.getFullYear();
		var _month = date.getMonth() + 1;
		var _date = date.getDate();
		obj.solar.year = _year;
		obj.solar.month = _month;
		obj.solar.date = _date;
		
		/*是否为本月*/
		
		
		/*计算星期几*/
		obj.weekDay = weekStr[date.getDay()];
		
		/*计算农历日期*/
		var lunar = whichYear(_year,_month,_date,LunarDataArr);//lunar.rest;lunar.year
		obj.lunar = calLunar(lunar.rest,lunar.year,LunarDataArr);//obj.lunar.year/month/day/isLeap;
	
		obj.lunar.monthArr = lunarMonthStr[obj.lunar.month-1];
		if(obj.lunar.monthArr == undefined){
			var _tempmonth = parseInt(obj.lunar.month) - 1;
			obj.lunar.monthArr = '闰' + lunarMonthStr[_tempmonth];
			}
		obj.lunar.dateArr = lunarDateStr[obj.lunar.date-1];
		
		
		/*计算节日*/
		obj.holiday.solar = getSolarHoliday(_year, _month, _date);
		obj.holiday.lunar = getLunarHoliday(obj.lunar.year, obj.lunar.month, obj.lunar.date);
		
		//除夕单独判断
		obj.holiday.lunar = getLunarHoliday(obj.lunar.year, obj.lunar.month, obj.lunar.date);
		var tempdate = new Date(_year,_month - 1,_date+1);		
		var nextLunar = whichYear(tempdate.getFullYear(),tempdate.getMonth()+1,tempdate.getDate(),LunarDataArr);
		nextLunar = calLunar(nextLunar.rest,nextLunar.year,LunarDataArr);
		if(getLunarHoliday(nextLunar.year, nextLunar.month, nextLunar.date) == '春节'){
			obj.holiday.lunar = "除夕";
			}
		obj.holiday.week = getWeekHoliday(date);
		
		/*计算节气*/
		
		obj.term = calTerm(_year,_month,date);
		
		/*计算干支*/
		obj.ganzhi = calGanzhi(obj.lunar.year);
		
		/*计算生肖*/
		obj.animal = calAnimal(obj.lunar.year);
		
		return obj;
			
	}






	var LunarDataArr = [//从1900年1月31日起150年农历数据
	0x04bd8,0x04ae0,0x0a570,0x054d5,0x0d260,0x0d950,0x16554,0x056a0,0x09ad0,0x055d2,
	0x04ae0,0x0a5b6,0x0a4d0,0x0d250,0x1d255,0x0b540,0x0d6a0,0x0ada2,0x095b0,0x14977,
	0x04970,0x0a4b0,0x0b4b5,0x06a50,0x06d40,0x1ab54,0x02b60,0x09570,0x052f2,0x04970,
	0x06566,0x0d4a0,0x0ea50,0x06e95,0x05ad0,0x02b60,0x186e3,0x092e0,0x1c8d7,0x0c950,
	0x0d4a0,0x1d8a6,0x0b550,0x056a0,0x1a5b4,0x025d0,0x092d0,0x0d2b2,0x0a950,0x0b557,
	0x06ca0,0x0b550,0x15355,0x04da0,0x0a5d0,0x14573,0x052d0,0x0a9a8,0x0e950,0x06aa0,
	0x0aea6,0x0ab50,0x04b60,0x0aae4,0x0a570,0x05260,0x0f263,0x0d950,0x05b57,0x056a0,
	0x096d0,0x04dd5,0x04ad0,0x0a4d0,0x0d4d4,0x0d250,0x0d558,0x0b540,0x0b5a0,0x195a6,
	0x095b0,0x049b0,0x0a974,0x0a4b0,0x0b27a,0x06a50,0x06d40,0x0af46,0x0ab60,0x09570,
	0x04af5,0x04970,0x064b0,0x074a3,0x0ea50,0x06b58,0x055c0,0x0ab60,0x096d5,0x092e0,
	0x0c960,0x0d954,0x0d4a0,0x0da50,0x07552,0x056a0,0x0abb7,0x025d0,0x092d0,0x0cab5,
	0x0a950,0x0b4a0,0x0baa4,0x0ad50,0x055d9,0x04ba0,0x0a5b0,0x15176,0x052b0,0x0a930,
	0x07954,0x06aa0,0x0ad50,0x05b52,0x04b60,0x0a6e6,0x0a4e0,0x0d260,0x0ea65,0x0d530,
	0x05aa0,0x076a3,0x096d0,0x04bd7,0x04ad0,0x0a4d0,0x1d0b6,0x0d250,0x0d520,0x0dd45,
	0x0b5a0,0x056d0,0x055b2,0x049b0,0x0a577,0x0a4b0,0x0aa50,0x1b255,0x06d20,0x0ada0
	];	
	var solarTermArr = [//从1900年以来24节气数据
	   0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,	    //1900
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1901   
       0x96,0xA4,0x96,0x96,0x97,0x87,0x79,0x79,0x79,0x69,0x78,0x78,     //1902   
       0x96,0xA5,0x87,0x96,0x87,0x87,0x79,0x69,0x69,0x69,0x78,0x78,     //1903   
       0x86,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x78,0x87,     //1904   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1905   
       0x96,0xA4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1906   
       0x96,0xA5,0x87,0x96,0x87,0x87,0x79,0x69,0x69,0x69,0x78,0x78,     //1907   
       0x86,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1908   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1909   
       0x96,0xA4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1910   
       0x96,0xA5,0x87,0x96,0x87,0x87,0x79,0x69,0x69,0x69,0x78,0x78,     //1911   
       0x86,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1912   
       0x95,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1913   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1914   
       0x96,0xA5,0x97,0x96,0x97,0x87,0x79,0x79,0x69,0x69,0x78,0x78,     //1915   
       0x96,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1916   
       0x95,0xB4,0x96,0xA6,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x87,     //1917   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x77,     //1918   
       0x96,0xA5,0x97,0x96,0x97,0x87,0x79,0x79,0x69,0x69,0x78,0x78,     //1919   
       0x96,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1920   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x87,     //1921   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x77,     //1922   
       0x96,0xA4,0x96,0x96,0x97,0x87,0x79,0x79,0x69,0x69,0x78,0x78,     //1923   
       0x96,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1924   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x87,     //1925   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1926   
       0x96,0xA4,0x96,0x96,0x97,0x87,0x79,0x79,0x79,0x69,0x78,0x78,     //1927   
       0x96,0xA5,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1928   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1929   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1930   
       0x96,0xA4,0x96,0x96,0x97,0x87,0x79,0x79,0x79,0x69,0x78,0x78,     //1931   
       0x96,0xA5,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1932   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1933   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1934   
       0x96,0xA4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1935   
       0x96,0xA5,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1936   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1937   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1938   
       0x96,0xA4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1939   
       0x96,0xA5,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1940   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1941   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1942   
       0x96,0xA4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1943   
       0x96,0xA5,0x96,0xA5,0xA6,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1944   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1945   
       0x95,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x78,0x69,0x78,0x77,     //1946   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1947   
       0x96,0xA5,0xA6,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //1948   
       0xA5,0xB4,0x96,0xA5,0x96,0x97,0x88,0x79,0x78,0x79,0x77,0x87,     //1949   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x77,     //1950   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1951   
       0x96,0xA5,0xA6,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //1952   
       0xA5,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1953   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x78,0x79,0x78,0x68,0x78,0x87,     //1954   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1955   
       0x96,0xA5,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //1956   
       0xA5,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1957   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1958   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1959   
       0x96,0xA4,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,     //1960   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1961   
       0x96,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1962   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1963   
       0x96,0xA4,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,     //1964   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1965   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1966   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1967   
       0x96,0xA4,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //1968   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1969   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1970   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1971   
       0x96,0xA4,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //1972   
       0xA5,0xB5,0x96,0xA5,0xA6,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1973   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1974   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x78,0x69,0x78,0x77,     //1975   
       0x96,0xA4,0xA5,0xB5,0xA6,0xA6,0x88,0x89,0x88,0x78,0x87,0x87,     //1976   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //1977   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x78,0x87,     //1978   
       0x96,0xB4,0x96,0xA6,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x77,     //1979   
       0x96,0xA4,0xA5,0xB5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //1980   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x77,0x87,     //1981   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1982   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x77,     //1983   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x87,     //1984   
       0xA5,0xB4,0xA6,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //1985   
       0xA5,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1986   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x79,0x78,0x69,0x78,0x87,     //1987   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //1988   
       0xA5,0xB4,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,     //1989   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x79,0x77,0x87,     //1990   
       0x95,0xB4,0x96,0xA5,0x86,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1991   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //1992   
       0xA5,0xB3,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,     //1993   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1994   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x76,0x78,0x69,0x78,0x87,     //1995   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //1996   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //1997   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1998   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1999 
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2000   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2001   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //2002   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //2003   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2004   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2005   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2006   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //2007   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x87,0x78,0x87,0x86,     //2008   
       0xA5,0xB3,0xA5,0xB5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2009   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2010   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x78,0x87,     //2011   
       0x96,0xB4,0xA5,0xB5,0xA5,0xA6,0x87,0x88,0x87,0x78,0x87,0x86,     //2012   
       0xA5,0xB3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x87,     //2013   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2014   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //2015   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x87,0x88,0x87,0x78,0x87,0x86,     //2016   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x87,     //2017   
       0xA5,0xB4,0xA6,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2018   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x79,0x77,0x87,     //2019   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x86,     //2020   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2021   
       0xA5,0xB4,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,     //2022   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x79,0x77,0x87,     //2023   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x96,     //2024   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2025   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2026   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //2027   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x96,     //2028   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2029   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2030   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //2031   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x96,     //2032   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x86,     //2033   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x78,0x88,0x78,0x87,0x87,     //2034   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2035   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x96,     //2036   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2037   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2038   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2039   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x96,     //2040   
       0xA5,0xC3,0xA5,0xB5,0xA5,0xA6,0x87,0x88,0x87,0x78,0x87,0x86,     //2041   
       0xA5,0xB3,0xA5,0xB5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2042   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2043   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x88,0x87,0x96,     //2044   
       0xA5,0xC3,0xA5,0xB4,0xA5,0xA6,0x87,0x88,0x87,0x78,0x87,0x86,     //2045   
       0xA5,0xB3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x87,     //2046   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2047   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA5,0x97,0x87,0x87,0x88,0x86,0x96,     //2048   
       0xA4,0xC3,0xA5,0xA5,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x86,     //2049   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x78,0x78,0x87,0x87,     //2050
	];
	var lunarDateStr = [
	'初一','初二','初三','初四','初五','初六','初七','初八','初九','初十','十一','十二','十三',
	'十四','十五','十六','十七','十八','十九','二十','廿一','廿二','廿三','廿四','廿五','廿六',
	'廿七','廿八','廿九','三十','卅一'
	];
	var lunarMonthStr = [
	'正月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'
	];
	var solarTermStr = [
	'小寒','大寒','立春','雨水','惊蛰','春分','清明','谷雨','立夏','小满','芒种','夏至',
	'小暑','大暑','立秋','处暑','白露','秋分','寒露','霜降','立冬','小雪','大雪','冬至'
	];
	var weekStr = ['星期日','星期一','星期二','星期三','星期四','星期五','星期六'];
	var weekstr = ['一','二','三','四','五','六','日'];
	
	var lunarHolidayArr = new Array();
	lunarHolidayArr["1-1"] = "春节";
	lunarHolidayArr["1-15"] = "元宵节";
	lunarHolidayArr["5-5"] = "端午节";
	lunarHolidayArr["7-7"] = "七夕情人节";
	lunarHolidayArr["7-15"] = "中元节";
	lunarHolidayArr["8-15"] = "中秋节";
	lunarHolidayArr["9-9"] = "重阳节";
	lunarHolidayArr["12-8"] = "腊八节";
	lunarHolidayArr["12-23"] = "小年";
	//除夕单独算
	var solarHolidayArr = new Array();
	solarHolidayArr["1-1"] = "元旦";	
	solarHolidayArr["2-2"] = "湿地日";
	solarHolidayArr["2-14"] = "情人节";
	solarHolidayArr["3-8"] = "妇女节";
	solarHolidayArr["3-12"] = "植树节";
	solarHolidayArr["3-15"] = "消费者权益日";
	solarHolidayArr["4-1"] = "愚人节";
	solarHolidayArr["4-7"] = "卫生日";
	solarHolidayArr["4-22"] = "地球日";
	solarHolidayArr["5-1"] = "劳动节";
	solarHolidayArr["5-4"] = "青年节";
	solarHolidayArr["5-8"] = "红十字日";
	solarHolidayArr["5-12"] = "护士节";
	solarHolidayArr["5-31"] = "无烟日";
	solarHolidayArr["6-1"] = "儿童节";
	solarHolidayArr["6-5"] = "环保日";
	solarHolidayArr["6-26"] = "禁毒日";
	solarHolidayArr["7-1"] = "建党节";
	solarHolidayArr["7-11"] = "人口日";	
	solarHolidayArr["8-1"] = "建军节";
	solarHolidayArr["8-15"] = "抗战胜利纪念日";
	solarHolidayArr["9-10"] = "教师节";
	solarHolidayArr["9-20"] = "爱牙日";
	solarHolidayArr["9-27"] = "旅游日";
	solarHolidayArr["10-1"] = "国庆节";
	solarHolidayArr["10-24"] = "联合国日";
	solarHolidayArr["12-1"] = "世界艾滋病日";
	solarHolidayArr["12-3"] = "世界残疾人日";
	solarHolidayArr["12-24"] = "平安夜";
	solarHolidayArr["12-25"] = "圣诞节";
	
	var ganzhiArr = [
		'庚子年','辛丑年','壬寅年','癸卯年','甲辰年','乙巳年','丙午年','丁未年','戊申年','己酉年','庚戌年',
		'辛亥年','壬子年','癸丑年','甲寅年','乙卯年','丙辰年','丁巳年','戊午年','己未年','庚申年','辛酉年',
		'壬戌年','癸亥年','甲子年','乙丑年','丙寅年','丁卯年','戊辰年','己巳年','庚午年','辛未年','壬申年',
		'癸酉年','甲戌年','乙亥年','丙子年','丁丑年','戊寅年','己卯年','庚辰年','辛巳年','壬午年','癸未年',
		'甲申年','乙酉年','丙戌年','丁亥年','戊子年','己丑年','庚寅年','辛卯年','壬辰年','癸巳年','甲午年',
		'乙未年','丙申年','丁酉年','戊戌年','己亥年'
	]
	var animalArr = [
		'鼠年','牛年','虎年','兔年','龙年','蛇年','马年','羊年','猴年','鸡年','狗年','猪年',
	]
	
	
	
	
	/**********************************************************
	给定公历年月，计算该年该月的两个节气及其日期、上个月的第二个节气及其日期，下个月的第一个节气及其日期。（废弃）
	**********************************************************/
	
		function calTerm(year,month,date){//month:1~12
		var termObj = {};
		var termIndex = (year - 1900)*12 + month - 1;
		var firstBit = 0xF0;
		var secondBit = 0x0F;
		termObj.firstTermDate = new Date(year,month - 1, 15 - (firstBit & solarTermArr[termIndex])/16 );
		termObj.secondTermDate = new Date(year,month - 1, (secondBit & solarTermArr[termIndex]) + 15 );
		
		termObj.firstTermStr = solarTermStr[(termIndex%12)*2];
		termObj.secondTermStr = solarTermStr[(termIndex%12)*2+1];
		if(date.getDate() == termObj.firstTermDate.getDate()){
			return termObj.firstTermStr;
			}
		if(date.getDate() == termObj.secondTermDate.getDate()){
			return termObj.secondTermStr;
			}
		return null;
	}


	/**********************************************************
	计算节日。
	**********************************************************/
	
	/**********************************************************
	输入公历年月日
	**********************************************************/
	function getSolarHoliday(year, month, day){//公历节日month:1~12
		var monthday = month + '-' + day;
		var solarHoliday = solarHolidayArr[monthday];
		return solarHoliday;
		}
	/**********************************************************
	输入农历年月日
	**********************************************************/	
	function getLunarHoliday(lunary, lunarm, lunard){//农历节日
		var monthday = lunarm + '-' + lunard;
		var solarHoliday = lunarHolidayArr[monthday];
		return solarHoliday;
		}
	/**********************************************************
	输入日期
	**********************************************************/
	function getWeekHoliday(date){//按星期算的节日
		var _year = date.getFullYear();
		var _month = date.getMonth();
		var _date = date.getDate();
		if(date.getDay() == 0 && _month == new Date(_year,_month,_date-7).getMonth() && _month==4){//五月第二个星期日
			return "母亲节";
		}else if(date.getDay() == 0 && _month == new Date(_year,_month,_date-14).getMonth() && _month==5){//六月第三个星期日
			return "父亲节";
		}else if(date.getDay() == 4 && _month == new Date(_year,_month,_date-21).getMonth() && _month==10){//十一月第四个星期四
			return "感恩节";
		}else{
			return null;	
		}
	}



	/**********************************************************
	计算某一农历年的总天数
	**********************************************************/
	function calYearDays(LunarData){//对应农历年的总天数
		var days = 12*29;
		var leapBigBit = 0xF0000;
		var monthBit = 0x0FFF0;
		var whichLeapBit = 0x0000F;
		var leapBig = 0;
		var month = (LunarData & monthBit).toString(2);
		var whichLeap = (LunarData & whichLeapBit).toString();
		for(var i = 0; i < month.length; i++){
			if(month[i] == 1){
				days++;
				}
			}
		if(whichLeap == 0){
			return days;
		}else{
			leapBig = (LunarData & leapBigBit);
			if(leapBig == 0){
				days = days + 29;
				return days;
			}else{
				days = days + 30;
				return days;
			}
		}
	}
	
	
	/**********************************************************
	计算农历第几年，第几天（obj.year,obj.rest）
	输入js的年月日
	**********************************************************/
	function whichYear(year,month,day,LunarDataArr){//返回农历第几年，该年第几天month:1~12
		var obj = {};
		var start = Date.UTC(1900,0,31);/*1900年1月31日，农历0年春节*/
		var end = Date.UTC(year,month-1,day);
		var days = (end-start)/ 3600000 / 24;
		var _days = 0;
		for(var Year = 0; _days <= days; Year++){  /*=号要加上*/
			obj.rest = days - _days;
			_days = _days + calYearDays(LunarDataArr[Year]);
		}
		obj.rest = obj.rest + 1;//加一纠结中
		obj.year = Year - 1;
		return obj;
	}




	/**********************************************************
	计算农历日期
	**********************************************************/
	function calLunar(restDays,year,LunarDataArr){//给定天数从1开始，农历第几年，计算农历月份、日期
		var lunar = {};
		var LunarData = LunarDataArr[year];
		var leapBigBit = 0xF0000;
		var monthBit = 0x0FFF0;
		var whichLeapBit = 0x0000F;
		var leapBig = (LunarData & leapBigBit).toString();//
		var monthtemp = (LunarData & monthBit).toString(2);/*坑爹，高位缺零*/
		var month = [];
		
		for(var i = 0; i < 12; i++){
			if(monthtemp[monthtemp.length-5-i] == 0 || monthtemp[monthtemp.length-5-i] == 1){
				month[11-i] = monthtemp[monthtemp.length-5-i];
			}else{
				month[11-i] = 0;
			}
		}
		var whichLeap = (LunarData & whichLeapBit).toString();
		if(whichLeap != 0){lunar.whichLeap = whichLeap;}else{lunar.whichLeap = -1;}
		var monthDays = [];
		for(var i = 0; i < 12; i++){
			if(month[i] == 1){
				monthDays.push(30);
			}else{
				monthDays.push(29);
			}
			if(i != 0 && i == whichLeap - 1){
				if(leapBig == 0){
					monthDays.push(29);
				}else{
					monthDays.push(30);
				}
			}
		}
		var m = 0;
		for(var i = 0; i < monthDays.length; i++){
			if(restDays > monthDays[i]){
				restDays = restDays - monthDays[i];
				m = i+1;
			}else{
				break;
			}
		}
		lunar.date = restDays;//是否加一纠结中
		
		if(whichLeap != 0){
			if(whichLeap + 1 < m){//该月在闰月之后
				lunar.month = m + 1;
			}else if(whichLeap == m - 1){//该月为闰月
				var tempm = m - 1;
				lunar.month = tempm + '闰';
			}else{
				lunar.month = m;
			}
			lunar.month = lunar.month + 1;
		}else{
			lunar.month = m+1;
		}
		lunar.year = year;
		return lunar;
		
	}
	
	/**********************************************************
	计算干支、生肖
	**********************************************************/
	
	function calGanzhi(lunarYear){
		lunarYear = lunarYear%60;
		return ganzhiArr[lunarYear];
		}
	function calAnimal(lunarYear){
		lunarYear = lunarYear%12;
		return animalArr[lunarYear];
		
		}
	
